# Neovim config files

This is a github repo containing my Neovim configuration files.
In Unix systems, I put this repository under `~/.config/nvim`.
The file structure is given by (where the parent folder `nvim/` is same as `~/.config/nvim/`)

```files
nvim/                  
| lua/                 
| | config/            
| | | lazy.lua         
| | | netrw.lua        
| | plugins/           
| | | completion.lua   
| | | file_explorer.lua
| | | init.lua         
| | | latex.lua        
| | | markdown.lua     
| | | r_language.lua   
| | | telescope.lua    
| parser/              
| | r.so*              
| queries/             
| | r/                 
| README.md            
| init.lua             
| lazy-lock.json       
 ``` 

Here
- [init.lua](./init.lua) is the main config file.
It contains global config options and loads some other `lua` files.
- The [lua](./lua/) folder contains the other config files in a structured way.
- The [config](./lua/config/) folder contains configurations for
    - The plugin manager `lazy.nvim` in [lazy.lua](./lua/config/lazy.lua).
    - Configurations for other built-in functionalities, e.g., [netrw.lua](./lua/config/netrw.lua).
- The [plugins](./lua/plugins/) folder contains the source and configurations for specific third-party plugins.
For example,
    - [completion.lua](./lua/plugins/completion.lua) contains the configuration of `blink.cmp`
    - [latex.lua](./lua/plugins/latex.lua) contains the configuration of `VimTeX`
    - [init.lua](./lua/plugins/init.lua) contains the plugins which I have installed but not modified much.
    - The `.lua` files under this directory are automatically sourced by `lazy.nvim`.
    We don't need to explicitly `require()` them.
- `lazy-lock.json` is automatically generated by `lazy.nvim`.
This should be under version control to restore an old state and should not be modified manually.
- The folders `parser` and `queries` contains treesitter parsers that I have manually compiled.
I am using these to provide syntax detection for the `R.nvim` plugin.
The procedure to compile the R treesitter parser is described later in this document.
Since these are binary files, I keep the contents of the two folders outside version control.
- [README.md](./README.md) is this file you're reading.

## External dependencies
Some plugins require external dependencies.
I have tried to list some of them.
The list is not complete.
- Common tools like `curl`, `git`, `unzip`, `wget`, `tar` with recent versions.
- A nerd font is required for markdown rendering and telescope plugin.
I am using the `JetBrainsMono Nerd Font Mono` font.
- `LuaRocks` may be required for installation of some plugins using `lazy.nvim`.
- A `C` compiler and `make` is required to compile parsers and the autocompletion from `clangd`.
- `ripgrep` is required for the telescope plugin.
- Local LaTeX installation required for the VimTeX plugin.
If a plugin is not working and cannot be installed, I suggest you to look at the specific repository to find the dependencies.

## Install treesitter parsers for `R.nvim`
The recommended way is to simply use the `nvim-treesitter` plugin.
However, there are some conflict issues if both `nvim-treesitter` and `VimTeX` plugins are enabled.
So I have manually installed the treesitter parser for R and put it in an appropriate structure.
I followed this procedure:
```shell
git clone https://github.com/r-lib/tree-sitter-r.git
cd tree-sitter-r/
make
```
This will give you a `libtree-sitter-r.so` file.
Rename it to `r.so` and put it under `nvim/parser` directory.
Additionally, grab the `.scm` files under `queries/` directory and put them in `nvim/queries/r/`.
Then you can remove the directory `tree-sitter-r`.
